import{J as $,o as fe,a4 as g,G as F,p as C,B as se,q as ie,a5 as U,a6 as ue,D as ve,H as te,F as X,I as W,A as L,P as de,a7 as ce,x as K,L as oe,a8 as p,a9 as q,K as H,aa as Q,ab as _e,ac as Z,ad as j,i as he,M as ee,N as me,ae as Ee,af as Y,W as Ae,z as ae,ag as Te,R as Ie,ah as be,ai as Se,aj as xe,ak as Me,al as Ne,t as Ce,e as we,am as De,an as He}from"./BO5llKdn.js";function ke(e,r){return r}function Re(e,r,a){for(var i=e.items,v=[],f=r.length,u=0;u<f;u++)be(r[u].e,v,!0);var c=f>0&&v.length===0&&a!==null;if(c){var T=a.parentNode;Se(T),T.append(a),i.clear(),x(e,r[0].prev,r[f-1].next)}xe(v,()=>{for(var o=0;o<f;o++){var h=r[o];c||(i.delete(h.k),x(e,h.prev,h.next)),ae(h.e,!c)}})}function Ve(e,r,a,i,v,f=null){var u=e,c={flags:r,items:new Map,first:null},T=(r&g)!==0;if(T){var o=e;u=C?F(se(o)):o.appendChild($())}C&&ie();var h=null,N=!1,I=new Map,w=ue(()=>{var _=a();return he(_)?_:_==null?[]:j(_)}),n,d;function t(){Oe(d,n,c,I,u,v,r,i,a),f!==null&&(n.length===0?h?ee(h):h=K(()=>f(u)):h!==null&&me(h,()=>{h=null}))}fe(()=>{d??=Me,n=U(w);var _=n.length;if(N&&_===0)return;N=_===0;let A=!1;if(C){var b=ve(u)===te;b!==(_===0)&&(u=X(),F(u),W(!1),A=!0)}if(C){for(var M=null,m,l=0;l<_;l++){if(L.nodeType===de&&L.data===ce){u=L,A=!0,W(!1);break}var s=n[l],E=i(s,l);m=P(L,c,M,null,s,E,l,v,r,a),c.items.set(E,m),M=m}_>0&&F(X())}if(C)_===0&&f&&(h=K(()=>f(u)));else if(oe()){var R=new Set,k=H;for(l=0;l<_;l+=1){s=n[l],E=i(s,l);var D=c.items.get(E)??I.get(E);D?(r&(p|q))!==0&&re(D,s,l,r):(m=P(null,c,null,null,s,E,l,v,r,a,!0),I.set(E,m)),R.add(E)}for(const[S,V]of c.items)R.has(S)||k.skipped_effects.add(V.e);k.add_callback(t)}else t();A&&W(!0),U(w)}),C&&(u=L)}function Oe(e,r,a,i,v,f,u,c,T){var o=(u&Te)!==0,h=(u&(p|q))!==0,N=r.length,I=a.items,w=a.first,n=w,d,t=null,_,A=[],b=[],M,m,l,s;if(o)for(s=0;s<N;s+=1)M=r[s],m=c(M,s),l=I.get(m),l!==void 0&&(l.a?.measure(),(_??=new Set).add(l));for(s=0;s<N;s+=1){if(M=r[s],m=c(M,s),l=I.get(m),l===void 0){var E=i.get(m);if(E!==void 0){i.delete(m),I.set(m,E);var R=t?t.next:n;x(a,t,E),x(a,E,R),z(E,R,v),t=E}else{var k=n?n.e.nodes_start:v;t=P(k,a,t,t===null?a.first:t.next,M,m,s,f,u,T)}I.set(m,t),A=[],b=[],n=t.next;continue}if(h&&re(l,M,s,u),(l.e.f&Y)!==0&&(ee(l.e),o&&(l.a?.unfix(),(_??=new Set).delete(l))),l!==n){if(d!==void 0&&d.has(l)){if(A.length<b.length){var D=b[0],S;t=D.prev;var V=A[0],y=A[A.length-1];for(S=0;S<A.length;S+=1)z(A[S],D,v);for(S=0;S<b.length;S+=1)d.delete(b[S]);x(a,V.prev,y.next),x(a,t,V),x(a,y,D),n=D,t=y,s-=1,A=[],b=[]}else d.delete(l),z(l,n,v),x(a,l.prev,l.next),x(a,l,t===null?a.first:t.next),x(a,t,l),t=l;continue}for(A=[],b=[];n!==null&&n.k!==m;)(n.e.f&Y)===0&&(d??=new Set).add(n),b.push(n),n=n.next;if(n===null)continue;l=n}A.push(l),t=l,n=l.next}if(n!==null||d!==void 0){for(var O=d===void 0?[]:j(d);n!==null;)(n.e.f&Y)===0&&O.push(n),n=n.next;var B=O.length;if(B>0){var le=(u&g)!==0&&N===0?v:null;if(o){for(s=0;s<B;s+=1)O[s].a?.measure();for(s=0;s<B;s+=1)O[s].a?.fix()}Re(a,O,le)}}o&&Ae(()=>{if(_!==void 0)for(l of _)l.a?.apply()}),e.first=a.first&&a.first.e,e.last=t&&t.e;for(var ne of i.values())ae(ne.e);i.clear()}function re(e,r,a,i){(i&p)!==0&&Q(e.v,r),(i&q)!==0?Q(e.i,a):e.i=a}function P(e,r,a,i,v,f,u,c,T,o,h){var N=(T&p)!==0,I=(T&Ee)===0,w=N?I?_e(v,!1,!1):Z(v):v,n=(T&q)===0?u:Z(u),d={i:n,v:w,k:f,a:null,e:null,prev:a,next:i};try{if(e===null){var t=document.createDocumentFragment();t.append(e=$())}return d.e=K(()=>c(e,w,n,o),C),d.e.prev=a&&a.e,d.e.next=i&&i.e,a===null?h||(r.first=d):(a.next=d,a.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function z(e,r,a){for(var i=e.next?e.next.e.nodes_start:a,v=r?r.e.nodes_start:a,f=e.e.nodes_start;f!==null&&f!==i;){var u=Ie(f);v.before(f),f=u}}function x(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function pe(e,r,a=r){var i=new WeakSet;Ne(e,"input",async v=>{var f=v?e.defaultValue:e.value;if(f=G(e)?J(f):f,a(f),H!==null&&i.add(H),await Ce(),f!==(f=r())){var u=e.selectionStart,c=e.selectionEnd,T=e.value.length;if(e.value=f??"",c!==null){var o=e.value.length;u===c&&c===T&&o>T?(e.selectionStart=o,e.selectionEnd=o):(e.selectionStart=u,e.selectionEnd=Math.min(c,o))}}}),(C&&e.defaultValue!==e.value||we(r)==null&&e.value)&&(a(G(e)?J(e.value):e.value),H!==null&&i.add(H)),De(()=>{var v=r();if(e===document.activeElement){var f=He??H;if(i.has(f))return}G(e)&&v===J(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function G(e){var r=e.type;return r==="number"||r==="range"}function J(e){return e===""?null:+e}export{pe as b,Ve as e,ke as i};
